<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Celebrity News-IMDB</title>
    <link rel="icon" href="../../assets/img/imdb-logo-new.png">
    <link rel="stylesheet" href="news.css">
    <link rel="stylesheet" href="../css/navbar.css">
    <link rel="stylesheet" href="../css/footer.css">
    <script type="module">
        export{};
    </script>
   
</head>
<body>
    <div id="loading-screen">
        <div id="loading-spinner"></div>
        <div id="loading-text">Loading...</div>
      </div>

    <div id="navbar-container"></div>
    <h1 class="heading">Celebrity News <hr></h1> 
    
    <div class="mainContainer">

      
    
    
       <div class="rightContainer">
         <hr> <h2>More To Explore </h2>
         <div>Did't like the news, <br>  read what you want at no extra cost</div>
         <input type="text" id="newsSubject" >
       </div>
    </div>
 
    <div id="bigBox">
 
        

    </div>
    
   
    
    
    <div id="footer-container"></div>
    <script type="module">
        import {expandArticle,glowOptions,stopGlow,openSelectBox,getNews,setQuery} from "../news/news.js"

        const search = async(event) => {
    if (event.key === "Enter") {
        let content = document.getElementById("newsSubject").value;
        console.log("inside search");
        console.log(content);
        setQuery(content);
        await getNews();
        buttons();
        
    }
};

// Example of how to add the event listener
document.getElementById("newsSubject").addEventListener("keydown", search);



async function initialize() {
    setQuery()
    await getNews();
    buttons();
}

    initialize();

    const buttons = () => {
        let articles = document.getElementsByClassName('article');
    console.log(articles.length);

    for (let index = 0; index < articles.length; index++) {
        document.getElementsByClassName('horizontalButton')[index].addEventListener("mouseover", function () { glowOptions(index) });
        document.getElementsByClassName("horizontalButton")[index].addEventListener("mouseleave", function () { stopGlow(index) });
        document.getElementsByClassName('horizontalButton')[index].onclick = function () { expandArticle(index) };

        document.getElementsByClassName("firstArticle")[index].addEventListener("mouseover", function () { glowOptions(index) });
        document.getElementsByClassName("firstArticle")[index].addEventListener("mouseleave", function () { stopGlow(index) });

        document.getElementsByClassName("verticalButton")[index].addEventListener("click", function () { openSelectBox(index) });
    }
    }
  

    

    </script> 

    <script src="../scripts/includeNavbar&Footer.js" type="module"></script>
    <script src="../scripts/navbarMenu.js"></script>

    
 
 
</body>
</html>